<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeeOS</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: black;
            color: white;
            font-family: 'Roboto', 'Courier', monospace;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            font-size: 16px;
        }

        #ascii-art {
            padding: 10px;
        }

        .hidden {
            opacity: 0;
            transition: opacity 1s ease-in;
        }

        .error {
            color: red;
        }

        .loading-gif {
            display: none;
        }
    </style>
</head>
<body>

    <div id="ascii-art">
        <p id="line1"></p>
        <p id="line2" class="hidden"></p>
        <p id="line3" class="hidden"></p>
        <p id="line4" class="hidden"></p>
        <p id="line5" class="hidden"></p>
        <p id="line6" class="hidden"></p>
        <p id="line7" class="hidden"></p>
        <p id="line8" class="hidden"></p>
        <p id="line9" class="hidden"></p>
        <p id="line10" class="hidden"></p>
        <p id="line11" class="hidden"></p>
    </div>

    <img id="loading-gif" src="https://media.tenor.com/_62bXB8gnzoAAAAi/loading.gif" class="loading-gif" alt="Loading" />

    <script>
        // Fonction pour lire les cookies
        function getCookie(name) {
            let matches = document.cookie.match(new RegExp(
                "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
            ));
            return matches ? decodeURIComponent(matches[1]) : undefined;
        }

        // Fonction pour ajouter un cookie
        function setCookie(name, value, days) {
            let expires = "";
            if (days) {
                let date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + (value || "") + expires + "; path=/";
        }

        // Vérifie si le cookie "Jailbreaking" est présent
        if (getCookie('Jailbreaking')) {
            // Texte quand le cookie est présent
            document.getElementById('line1').innerHTML = 'Exploiting kernel';
            document.getElementById('line1').style.opacity = 1;

            setTimeout(function() {
                document.getElementById('line2').innerHTML = 'Download bootstrap';
                document.getElementById('line2').style.opacity = 1;
            }, 5000);

            setTimeout(function() {
                document.getElementById('line3').innerHTML = 'Extracting bootstrap...';
                document.getElementById('line3').style.opacity = 1;
            }, 10000);

            setTimeout(function() {
                document.getElementById('line4').innerHTML = 'Creating Online FakeFS...';
                document.getElementById('line4').style.opacity = 1;
            }, 20000);

            setTimeout(function() {
                document.getElementById('line5').innerHTML = '0,1/10GB';
                document.getElementById('line5').style.opacity = 1;
            }, 21000);

            setTimeout(function() {
                document.getElementById('line6').innerHTML = '1/10GB';
                document.getElementById('line6').style.opacity = 1;
            }, 31000);

            setTimeout(function() {
                document.getElementById('line7').innerHTML = '3/10GB';
                document.getElementById('line7').style.opacity = 1;
            }, 41000);

            setTimeout(function() {
                document.getElementById('line8').innerHTML = '5/10GB';
                document.getElementById('line8').style.opacity = 1;
            }, 51000);

            setTimeout(function() {
                document.getElementById('line9').innerHTML = '9/10GB';
                document.getElementById('line9').style.opacity = 1;
            }, 61000);

            setTimeout(function() {
                document.getElementById('line10').innerHTML = 'FakeFS Done!';
                document.getElementById('line10').style.opacity = 1;
            }, 63000);

            setTimeout(function() {
                document.getElementById('line11').innerHTML = 'Rebooting...';
                document.getElementById('line11').style.opacity = 1;
            }, 64000);

            // Ajout de la séquence après "Rebooting..."
            setTimeout(function() {
                // Cache tout le texte
                document.getElementById('ascii-art').style.opacity = 0;

                // Affiche le GIF de chargement
                let loadingGif = document.getElementById('loading-gif');
                loadingGif.style.display = 'block';
            }, 69000); // 5s après "Rebooting..."

            setTimeout(function() {
                // Cache le GIF
                document.getElementById('loading-gif').style.display = 'none';

                // Ajoute le cookie "Jailbroken"
                setCookie('Jailbroken', 'true', 365 * 10); // Cookie valide pour 10 ans

                // Redirection vers le fichier mobileconfig
                window.location.href = 'https://github.com/BananeRapeuse/Ph0qu3JB-loader/raw/refs/heads/main/Ph0qu3JB%20Loader.mobileconfig';
            }, 79000); // 10s après affichage du GIF

        } else {
            // Texte d'erreur si le cookie n'est pas présent
            document.getElementById('line1').innerHTML = 'BeeOS';
            document.getElementById('line2').innerHTML = 'Made with ❤️ by Ph0qu3_111';
            document.getElementById('line3').innerHTML = 'Loading...';
            document.getElementById('line4').innerHTML = 'ERROR: Unable to exploit kernel';
            document.getElementById('line4').classList.add('error');

            // Apparition progressive comme avant
            document.getElementById('line1').style.opacity = 1;
            document.getElementById('line2').style.opacity = 1;

            setTimeout(function() {
                document.getElementById('line3').style.opacity = 1;
            }, 1000);

            setTimeout(function() {
                document.getElementById('line4').style.opacity = 1;
            }, 2000);
        }
    </script>

</body>
</html>
